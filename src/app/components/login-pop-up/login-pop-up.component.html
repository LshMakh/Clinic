<!-- login-pop-up.component.html -->
<div class="modal-overlay" (click)="onClose()"></div>
<div class="modal-container">
  <h2>ავტორიზაცია</h2>
  
  <!-- Alert Message -->
  <div *ngIf="showAlert" 
       [class]="'alert ' + (alertType === 'success' ? 'alert-success' : 'alert-error')">
    {{ alertMessage }}
  </div>

  <div class="modal-content">
    <form (ngSubmit)="onLogin()" [formGroup]="loginForm">
      <div class="form-group">
        <input formControlName="email" 
               placeholder='ელ.ფოსტა' 
               type="email" 
               [class.invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
        <div class="error-message" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
          <span *ngIf="loginForm.get('email')?.errors?.['required']">Email is required</span>
          <span *ngIf="loginForm.get('email')?.errors?.['email']">Please enter a valid email</span>
        </div>
      </div>

      <div class="form-group">
        <input formControlName="password" 
               placeholder='პაროლი' 
               type="password"
               [class.invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
        <div class="error-message" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
          Password is required
        </div>
      </div>

      <p class="forgot-password">პაროლის აღდგენა</p>
      
      <button type="submit" [disabled]="!loginForm.valid" class="submit-button">
        {{ isLoading ? 'მიმდინარეობს...' : 'ავტორიზაცია' }}
      </button>
    </form>
  </div>

</div>